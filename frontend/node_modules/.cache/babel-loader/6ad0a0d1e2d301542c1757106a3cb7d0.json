{"ast":null,"code":"import { all, call, put, takeLatest } from 'redux-saga/effects';\nimport { toast } from 'react-toastify';\nimport { editDeliverySuccess, editDeliveryFailure, updateDeliverySuccess, updateDeliveryFailure } from './actions';\nimport api from '../../../services/api';\nimport history from '../../../services/history';\nexport function* editDelivery({\n  payload\n}) {\n  const {\n    id\n  } = payload;\n\n  try {\n    const response = yield call(api.get, `/delivery/${id}`);\n    console.tron.log(response.data);\n    yield put(editDeliverySuccess(response.data));\n    history.push('/encomendas_edicao');\n  } catch ({\n    response\n  }) {\n    yield put(editDeliveryFailure());\n    console.tron.log(response.data.error);\n  }\n}\nexport function* updateDelivery({\n  payload\n}) {\n  const {\n    id,\n    data\n  } = payload;\n  console.tron.log(id, data);\n\n  try {\n    yield call(api.put, `/delivery/${id}`, data);\n    yield put(updateDeliverySuccess());\n    history.push('/encomendas');\n    toast.success('Encomenda atualizada!');\n  } catch ({\n    response\n  }) {\n    yield put(updateDeliveryFailure());\n    console.tron.log(response.data.error);\n  }\n}\nexport default all([takeLatest('@delivery/EDIT_REQUEST', editDelivery), takeLatest('@delivery/UPDATE_REQUEST', updateDelivery)]);","map":{"version":3,"sources":["/Users/Enrick/code/gostack10/fastfeetapp/web/src/store/modules/delivery/sagas.js"],"names":["all","call","put","takeLatest","toast","editDeliverySuccess","editDeliveryFailure","updateDeliverySuccess","updateDeliveryFailure","api","history","editDelivery","payload","id","response","get","console","tron","log","data","push","error","updateDelivery","success"],"mappings":"AAAA,SAASA,GAAT,EAAcC,IAAd,EAAoBC,GAApB,EAAyBC,UAAzB,QAA2C,oBAA3C;AACA,SAASC,KAAT,QAAsB,gBAAtB;AAEA,SACEC,mBADF,EAEEC,mBAFF,EAGEC,qBAHF,EAIEC,qBAJF,QAKO,WALP;AAOA,OAAOC,GAAP,MAAgB,uBAAhB;AACA,OAAOC,OAAP,MAAoB,2BAApB;AAEA,OAAO,UAAUC,YAAV,CAAuB;AAAEC,EAAAA;AAAF,CAAvB,EAAoC;AACzC,QAAM;AAAEC,IAAAA;AAAF,MAASD,OAAf;;AAEA,MAAI;AACF,UAAME,QAAQ,GAAG,MAAMb,IAAI,CAACQ,GAAG,CAACM,GAAL,EAAW,aAAYF,EAAG,EAA1B,CAA3B;AACAG,IAAAA,OAAO,CAACC,IAAR,CAAaC,GAAb,CAAiBJ,QAAQ,CAACK,IAA1B;AAEA,UAAMjB,GAAG,CAACG,mBAAmB,CAACS,QAAQ,CAACK,IAAV,CAApB,CAAT;AAEAT,IAAAA,OAAO,CAACU,IAAR,CAAa,oBAAb;AACD,GAPD,CAOE,OAAO;AAAEN,IAAAA;AAAF,GAAP,EAAqB;AACrB,UAAMZ,GAAG,CAACI,mBAAmB,EAApB,CAAT;AACAU,IAAAA,OAAO,CAACC,IAAR,CAAaC,GAAb,CAAiBJ,QAAQ,CAACK,IAAT,CAAcE,KAA/B;AACD;AACF;AAED,OAAO,UAAUC,cAAV,CAAyB;AAAEV,EAAAA;AAAF,CAAzB,EAAsC;AAC3C,QAAM;AAAEC,IAAAA,EAAF;AAAMM,IAAAA;AAAN,MAAeP,OAArB;AACAI,EAAAA,OAAO,CAACC,IAAR,CAAaC,GAAb,CAAiBL,EAAjB,EAAqBM,IAArB;;AAEA,MAAI;AACF,UAAMlB,IAAI,CAACQ,GAAG,CAACP,GAAL,EAAW,aAAYW,EAAG,EAA1B,EAA6BM,IAA7B,CAAV;AAEA,UAAMjB,GAAG,CAACK,qBAAqB,EAAtB,CAAT;AAEAG,IAAAA,OAAO,CAACU,IAAR,CAAa,aAAb;AAEAhB,IAAAA,KAAK,CAACmB,OAAN,CAAc,uBAAd;AACD,GARD,CAQE,OAAO;AAAET,IAAAA;AAAF,GAAP,EAAqB;AACrB,UAAMZ,GAAG,CAACM,qBAAqB,EAAtB,CAAT;AACAQ,IAAAA,OAAO,CAACC,IAAR,CAAaC,GAAb,CAAiBJ,QAAQ,CAACK,IAAT,CAAcE,KAA/B;AACD;AACF;AAED,eAAerB,GAAG,CAAC,CACjBG,UAAU,CAAC,wBAAD,EAA2BQ,YAA3B,CADO,EAEjBR,UAAU,CAAC,0BAAD,EAA6BmB,cAA7B,CAFO,CAAD,CAAlB","sourcesContent":["import { all, call, put, takeLatest } from 'redux-saga/effects';\nimport { toast } from 'react-toastify';\n\nimport {\n  editDeliverySuccess,\n  editDeliveryFailure,\n  updateDeliverySuccess,\n  updateDeliveryFailure,\n} from './actions';\n\nimport api from '../../../services/api';\nimport history from '../../../services/history';\n\nexport function* editDelivery({ payload }) {\n  const { id } = payload;\n\n  try {\n    const response = yield call(api.get, `/delivery/${id}`);\n    console.tron.log(response.data);\n\n    yield put(editDeliverySuccess(response.data));\n\n    history.push('/encomendas_edicao');\n  } catch ({ response }) {\n    yield put(editDeliveryFailure());\n    console.tron.log(response.data.error);\n  }\n}\n\nexport function* updateDelivery({ payload }) {\n  const { id, data } = payload;\n  console.tron.log(id, data);\n\n  try {\n    yield call(api.put, `/delivery/${id}`, data);\n\n    yield put(updateDeliverySuccess());\n\n    history.push('/encomendas');\n\n    toast.success('Encomenda atualizada!');\n  } catch ({ response }) {\n    yield put(updateDeliveryFailure());\n    console.tron.log(response.data.error);\n  }\n}\n\nexport default all([\n  takeLatest('@delivery/EDIT_REQUEST', editDelivery),\n  takeLatest('@delivery/UPDATE_REQUEST', updateDelivery),\n]);\n"]},"metadata":{},"sourceType":"module"}