{"ast":null,"code":"import { all, call, put, takeLatest } from 'redux-saga/effects';\nimport { toast } from 'react-toastify';\nimport api from '../../../services/api';\nimport { createRecipientSuccess, createRecipientFailure, editRecipientFailure, editRecipientSuccess, updateRecipientFailure, updateRecipientSuccess } from './actions';\nimport history from '../../../services/history';\nexport function* editRecipient({\n  payload\n}) {\n  const {\n    id\n  } = payload;\n\n  try {\n    const response = yield call(api.get, `/recipients/${id}`);\n    yield put(editRecipientSuccess(response.data));\n    history.push('/destinatarios_edicao');\n  } catch ({\n    response\n  }) {\n    yield put(editRecipientFailure());\n    console.tron.log(response.data.error);\n    toast.error(response.data.error);\n  }\n}\nexport function* updateRecipient({\n  payload\n}) {\n  const {\n    id,\n    name,\n    street,\n    number,\n    complement,\n    state,\n    cit,\n    zipcode\n  } = payload.data;\n\n  try {\n    yield call(api.put, `/recipients/${id}`, {\n      name,\n      street,\n      number,\n      complement,\n      state,\n      cit,\n      zipcode\n    });\n    yield put(updateRecipientSuccess());\n    toast.success('Entregador atualizado!');\n    history.push('/destinatarios');\n  } catch ({\n    response\n  }) {\n    yield put(updateRecipientFailure());\n    console.tron.log(response.data.error);\n  }\n}\nexport function* createRecipient({\n  payload\n}) {\n  const {\n    id,\n    name,\n    street,\n    number,\n    complement,\n    state,\n    city,\n    zipcode\n  } = payload.data;\n\n  try {\n    yield call(api.post, '/recipients', {\n      id,\n      name,\n      street,\n      number,\n      complement,\n      state,\n      city,\n      zipcode\n    });\n    yield put(createRecipientSuccess());\n    toast.success('Destinatário adicionado!');\n    history.push('/destinatarios');\n  } catch ({\n    response\n  }) {\n    yield put(createRecipientFailure());\n    console.tron.log(response.data.error);\n    toast.error(response.data.error);\n  }\n}\nexport default all([takeLatest('@recipient/EDIT_REQUEST', editRecipient), takeLatest('@recipient/UPDATE_REQUEST', updateRecipient), takeLatest('@recipient/CREATE_REQUEST', createRecipient)]);","map":{"version":3,"sources":["/Users/Enrick/desafio09/src/store/modules/recipient/sagas.js"],"names":["all","call","put","takeLatest","toast","api","createRecipientSuccess","createRecipientFailure","editRecipientFailure","editRecipientSuccess","updateRecipientFailure","updateRecipientSuccess","history","editRecipient","payload","id","response","get","data","push","console","tron","log","error","updateRecipient","name","street","number","complement","state","cit","zipcode","success","createRecipient","city","post"],"mappings":"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","sourcesContent":["import { all, call, put, takeLatest } from 'redux-saga/effects';\n\nimport { toast } from 'react-toastify';\n\nimport api from '../../../services/api';\n\nimport {\n  createRecipientSuccess,\n  createRecipientFailure,\n  editRecipientFailure,\n  editRecipientSuccess,\n  updateRecipientFailure,\n  updateRecipientSuccess,\n} from './actions';\n\nimport history from '../../../services/history';\n\nexport function* editRecipient({ payload }) {\n  const { id } = payload;\n\n  try {\n    const response = yield call(api.get, `/recipients/${id}`);\n\n    yield put(editRecipientSuccess(response.data));\n\n    history.push('/destinatarios_edicao');\n  } catch ({ response }) {\n    yield put(editRecipientFailure());\n    console.tron.log(response.data.error);\n    toast.error(response.data.error);\n  }\n}\n\nexport function* updateRecipient({ payload }) {\n  const {\n    id,\n    name,\n    street,\n    number,\n    complement,\n    state,\n    cit,\n    zipcode,\n  } = payload.data;\n\n  try {\n    yield call(api.put, `/recipients/${id}`, {\n      name,\n      street,\n      number,\n      complement,\n      state,\n      cit,\n      zipcode,\n    });\n\n    yield put(updateRecipientSuccess());\n\n    toast.success('Entregador atualizado!');\n\n    history.push('/destinatarios');\n  } catch ({ response }) {\n    yield put(updateRecipientFailure());\n    console.tron.log(response.data.error);\n  }\n}\n\nexport function* createRecipient({ payload }) {\n  const {\n    id,\n    name,\n    street,\n    number,\n    complement,\n    state,\n    city,\n    zipcode,\n  } = payload.data;\n\n  try {\n    yield call(api.post, '/recipients', {\n      id,\n      name,\n      street,\n      number,\n      complement,\n      state,\n      city,\n      zipcode,\n    });\n\n    yield put(createRecipientSuccess());\n\n    toast.success('Destinatário adicionado!');\n\n    history.push('/destinatarios');\n  } catch ({ response }) {\n    yield put(createRecipientFailure());\n    console.tron.log(response.data.error);\n    toast.error(response.data.error);\n  }\n}\n\nexport default all([\n  takeLatest('@recipient/EDIT_REQUEST', editRecipient),\n  takeLatest('@recipient/UPDATE_REQUEST', updateRecipient),\n  takeLatest('@recipient/CREATE_REQUEST', createRecipient),\n]);\n"]},"metadata":{},"sourceType":"module"}