{"ast":null,"code":"var _jsxFileName = \"/Users/Enrick/desafio09/src/pages/Deliverys/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { MdAdd, MdSearch, MdRemoveRedEye, MdEdit, MdDelete, MdKeyboardArrowLeft, MdKeyboardArrowRight } from 'react-icons/md';\nimport { toast } from 'react-toastify';\nimport MoreBtn from '../../components/MoreBtn';\nimport DeliveryStatus from '../../components/DeliveryStatus';\nimport DeliveryInfo from '../../components/DeliveryInfo';\nimport { editDeliveryRequest } from '../../store/modules/delivery/actions';\nimport { Container, Title, PageActions, PageContent, Pagination } from './styles';\nimport api from '../../services/api';\nimport history from '../../services/history';\nexport default function Deliverys() {\n  const [deliveries, setDeliveries] = useState([]);\n  const [product, setProduct] = useState('');\n  const [visible, setVisible] = useState(false);\n  const [orders, setOrders] = useState([]);\n  const [page, setPage] = useState(1);\n  const [item, setItem] = useState([]);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    async function loadDeliveries() {\n      const response = await api.get('/delivery', {\n        params: {\n          product,\n          page\n        }\n      });\n      setDeliveries(response.data);\n    }\n\n    loadDeliveries();\n  }, [product, page]);\n\n  async function handleView(id) {\n    try {\n      const response = await api.get(`/delivery/${id}`);\n      setItem(response.data);\n      setVisible(!visible);\n    } catch ({\n      response\n    }) {\n      toast.error('Erro ao visualizar a entrega.');\n      console.tron.log(response.data.error);\n    }\n  }\n\n  async function handleDelete(id) {\n    try {\n      await api.delete(`/delivery/${id}`);\n      toast.success('Encomenda deletada!', 1000);\n    } catch (error) {\n      toast.error('Erro ao deletar a entrega.');\n      console.tron.log(error);\n    } finally {\n      setTimeout(function () {\n        history.go(0);\n      }, 3500);\n    }\n  }\n\n  function handlePage(action) {\n    setPage(action === 'back' ? page - 1 : page + 1);\n  }\n\n  return React.createElement(React.Fragment, null, React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(Title, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, \"Gerenciando encomendas\")), React.createElement(PageActions, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, React.createElement(MdSearch, {\n    size: 20,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  })), React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Buscar por encomenda\",\n    onChange: e => setProduct(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    type: \"button\",\n    onClick: () => history.push('/entregas_cadastro'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(MdAdd, {\n    color: \"#fff\",\n    size: 20,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }), React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, \"Cadastrar\"))), React.createElement(PageContent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, \"ID\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, \"Destinat\\xE1rio\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, \"Entregador\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, \"Cidade\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, \"Estado\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, \"Status\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, \"A\\xE7\\xF5es\"))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, deliveries.map(delivery => React.createElement(React.Fragment, null, React.createElement(\"tr\", {\n    key: delivery.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }, delivery.id), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, delivery.recipient.name), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, React.createElement(\"main\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: delivery.deliveryman.avatar ? delivery.deliveryman.avatar.url : 'https://api.adorable.io/avatars/abott@adorable.png',\n    alt: \"delivery.deliveryman.name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, delivery.deliveryman.name))), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }, delivery.recipient.city), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, delivery.recipient.state), React.createElement(\"td\", {\n    className: \"status\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, React.createElement(DeliveryStatus, {\n    data: delivery,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  })), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, React.createElement(MoreBtn, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    type: \"button\",\n    onClick: () => handleView(delivery.id),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, React.createElement(MdRemoveRedEye, {\n    color: \"#7D40E7\",\n    size: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }), \"Visualizar\"), React.createElement(\"button\", {\n    type: \"button\",\n    onClick: () => dispatch(editDeliveryRequest(delivery.id)),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, React.createElement(MdEdit, {\n    color: \"#4D85EE\",\n    size: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }), \"Editar\"), React.createElement(\"button\", {\n    type: \"button\",\n    onClick: () => handleDelete(delivery.id),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }, React.createElement(MdDelete, {\n    color: \"#DE3B3B\",\n    size: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }), \"Excluir\")))), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  }))))), React.createElement(Pagination, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    type: \"button\",\n    onClick: () => handlePage('back'),\n    disabled: page < 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182\n    },\n    __self: this\n  }, React.createElement(MdKeyboardArrowLeft, {\n    size: 20,\n    color: \"#7d40e7\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186\n    },\n    __self: this\n  })), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189\n    },\n    __self: this\n  }, \"P\\xE1gina \", `${page}`), React.createElement(\"button\", {\n    type: \"button\",\n    onClick: () => handlePage('next'),\n    disabled: deliveries.length <= 1,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    },\n    __self: this\n  }, React.createElement(MdKeyboardArrowRight, {\n    size: 20,\n    color: \"#7d40e7\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195\n    },\n    __self: this\n  }))), React.createElement(DeliveryInfo, {\n    visible: visible,\n    data: item,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198\n    },\n    __self: this\n  })));\n}","map":{"version":3,"sources":["/Users/Enrick/desafio09/src/pages/Deliverys/index.js"],"names":["React","useState","useEffect","useDispatch","MdAdd","MdSearch","MdRemoveRedEye","MdEdit","MdDelete","MdKeyboardArrowLeft","MdKeyboardArrowRight","toast","MoreBtn","DeliveryStatus","DeliveryInfo","editDeliveryRequest","Container","Title","PageActions","PageContent","Pagination","api","history","Deliverys","deliveries","setDeliveries","product","setProduct","visible","setVisible","orders","setOrders","page","setPage","item","setItem","dispatch","loadDeliveries","response","get","params","data","handleView","id","error","console","tron","log","handleDelete","delete","success","setTimeout","go","handlePage","action","e","target","value","push","map","delivery","recipient","name","deliveryman","avatar","url","city","state","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\n\nimport {\n  MdAdd,\n  MdSearch,\n  MdRemoveRedEye,\n  MdEdit,\n  MdDelete,\n  MdKeyboardArrowLeft,\n  MdKeyboardArrowRight,\n} from 'react-icons/md';\n\nimport { toast } from 'react-toastify';\n\nimport MoreBtn from '../../components/MoreBtn';\nimport DeliveryStatus from '../../components/DeliveryStatus';\nimport DeliveryInfo from '../../components/DeliveryInfo';\n\nimport { editDeliveryRequest } from '../../store/modules/delivery/actions';\n\nimport {\n  Container,\n  Title,\n  PageActions,\n  PageContent,\n  Pagination,\n} from './styles';\n\nimport api from '../../services/api';\nimport history from '../../services/history';\n\nexport default function Deliverys() {\n  const [deliveries, setDeliveries] = useState([]);\n  const [product, setProduct] = useState('');\n  const [visible, setVisible] = useState(false);\n  const [orders, setOrders] = useState([]);\n  const [page, setPage] = useState(1);\n  const [item, setItem] = useState([]);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    async function loadDeliveries() {\n      const response = await api.get('/delivery', {\n        params: {\n          product,\n          page,\n        },\n      });\n\n      setDeliveries(response.data);\n    }\n\n    loadDeliveries();\n  }, [product, page]);\n\n  async function handleView(id) {\n    try {\n      const response = await api.get(`/delivery/${id}`);\n\n      setItem(response.data);\n      setVisible(!visible);\n    } catch ({ response }) {\n      toast.error('Erro ao visualizar a entrega.');\n      console.tron.log(response.data.error);\n    }\n  }\n\n  async function handleDelete(id) {\n    try {\n      await api.delete(`/delivery/${id}`);\n      toast.success('Encomenda deletada!', 1000);\n    } catch (error) {\n      toast.error('Erro ao deletar a entrega.');\n      console.tron.log(error);\n    } finally {\n      setTimeout(function() {\n        history.go(0);\n      }, 3500);\n    }\n  }\n\n  function handlePage(action) {\n    setPage(action === 'back' ? page - 1 : page + 1);\n  }\n\n  return (\n    <>\n      <Container>\n        <Title>\n          <strong>Gerenciando encomendas</strong>\n        </Title>\n\n        <PageActions>\n          <div>\n            <i>\n              <MdSearch size={20} />\n            </i>\n\n            <input\n              type=\"text\"\n              placeholder=\"Buscar por encomenda\"\n              onChange={e => setProduct(e.target.value)}\n            />\n          </div>\n          <button\n            type=\"button\"\n            onClick={() => history.push('/entregas_cadastro')}>\n            <MdAdd color=\"#fff\" size={20} />\n            <strong>Cadastrar</strong>\n          </button>\n        </PageActions>\n\n        <PageContent>\n          <thead>\n            <tr>\n              <th>ID</th>\n              <th>Destinatário</th>\n              <th>Entregador</th>\n              <th>Cidade</th>\n              <th>Estado</th>\n              <th>Status</th>\n              <th>Ações</th>\n            </tr>\n          </thead>\n          <tbody>\n            {deliveries.map(delivery => (\n              <>\n                <tr key={delivery.id}>\n                  <td>{delivery.id}</td>\n                  <td>{delivery.recipient.name}</td>\n                  <td>\n                    <main>\n                      <img\n                        src={\n                          delivery.deliveryman.avatar\n                            ? delivery.deliveryman.avatar.url\n                            : 'https://api.adorable.io/avatars/abott@adorable.png'\n                        }\n                        alt=\"delivery.deliveryman.name\"\n                      />\n                      <span>{delivery.deliveryman.name}</span>\n                    </main>\n                  </td>\n                  <td>{delivery.recipient.city}</td>\n                  <td>{delivery.recipient.state}</td>\n                  <td className=\"status\">\n                    <DeliveryStatus data={delivery} />\n                  </td>\n                  <td>\n                    <MoreBtn>\n                      <button\n                        type=\"button\"\n                        onClick={() => handleView(delivery.id)}>\n                        <MdRemoveRedEye color=\"#7D40E7\" size={12} />\n                        Visualizar\n                      </button>\n                      <button\n                        type=\"button\"\n                        onClick={() =>\n                          dispatch(editDeliveryRequest(delivery.id))\n                        }>\n                        <MdEdit color=\"#4D85EE\" size={12} />\n                        Editar\n                      </button>\n                      <button\n                        type=\"button\"\n                        onClick={() => handleDelete(delivery.id)}>\n                        <MdDelete color=\"#DE3B3B\" size={12} />\n                        Excluir\n                      </button>\n                    </MoreBtn>\n                  </td>\n                </tr>\n                <br />\n              </>\n            ))}\n          </tbody>\n        </PageContent>\n        <Pagination>\n          <button\n            type=\"button\"\n            onClick={() => handlePage('back')}\n            disabled={page < 2}>\n            <MdKeyboardArrowLeft size={20} color=\"#7d40e7\" />\n          </button>\n\n          <span>Página {`${page}`}</span>\n\n          <button\n            type=\"button\"\n            onClick={() => handlePage('next')}\n            disabled={deliveries.length <= 1}>\n            <MdKeyboardArrowRight size={20} color=\"#7d40e7\" />\n          </button>\n        </Pagination>\n        <DeliveryInfo visible={visible} data={item} />\n      </Container>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}