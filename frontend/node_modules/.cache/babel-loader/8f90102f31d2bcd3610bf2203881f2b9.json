{"ast":null,"code":"import { all, call, put, takeLatest } from 'redux-saga/effects';\nimport { toast } from 'react-toastify';\nimport { createRecipientSuccess, createRecipientFailure } from './actions';\nimport api from '../../../services/api';\nimport history from '../../../services/history';\nexport function* createRecipient({\n  payload\n}) {\n  const {\n    id,\n    name,\n    street,\n    number,\n    complement,\n    state,\n    city,\n    zipcode\n  } = payload.data;\n\n  try {\n    yield call(api.post, '/recipients', {\n      id,\n      name,\n      street,\n      number,\n      complement,\n      state,\n      city,\n      zipcode\n    });\n    yield put(createRecipientSuccess());\n    toast.success('Destinatário adicionado!');\n    history.push('/destinatarios');\n  } catch ({\n    response\n  }) {\n    yield put(createRecipientFailure());\n    console.tron.log(response.data.error);\n    toast.error(response.data.error);\n  }\n}\nexport default all([takeLatest('@recipient/CREATE_REQUEST', createRecipient)]);","map":{"version":3,"sources":["/Users/Enrick/desafio09/src/store/modules/recipient/sagas.js"],"names":["all","call","put","takeLatest","toast","createRecipientSuccess","createRecipientFailure","api","history","createRecipient","payload","id","name","street","number","complement","state","city","zipcode","data","post","success","push","response","console","tron","log","error"],"mappings":"AAAA,SAASA,GAAT,EAAcC,IAAd,EAAoBC,GAApB,EAAyBC,UAAzB,QAA2C,oBAA3C;AAEA,SAASC,KAAT,QAAsB,gBAAtB;AAEA,SAASC,sBAAT,EAAiCC,sBAAjC,QAA+D,WAA/D;AAEA,OAAOC,GAAP,MAAgB,uBAAhB;AACA,OAAOC,OAAP,MAAoB,2BAApB;AAEA,OAAO,UAAUC,eAAV,CAA0B;AAAEC,EAAAA;AAAF,CAA1B,EAAuC;AAC5C,QAAM;AACJC,IAAAA,EADI;AAEJC,IAAAA,IAFI;AAGJC,IAAAA,MAHI;AAIJC,IAAAA,MAJI;AAKJC,IAAAA,UALI;AAMJC,IAAAA,KANI;AAOJC,IAAAA,IAPI;AAQJC,IAAAA;AARI,MASFR,OAAO,CAACS,IATZ;;AAWA,MAAI;AACF,UAAMlB,IAAI,CAACM,GAAG,CAACa,IAAL,EAAW,aAAX,EAA0B;AAClCT,MAAAA,EADkC;AAElCC,MAAAA,IAFkC;AAGlCC,MAAAA,MAHkC;AAIlCC,MAAAA,MAJkC;AAKlCC,MAAAA,UALkC;AAMlCC,MAAAA,KANkC;AAOlCC,MAAAA,IAPkC;AAQlCC,MAAAA;AARkC,KAA1B,CAAV;AAWA,UAAMhB,GAAG,CAACG,sBAAsB,EAAvB,CAAT;AAEAD,IAAAA,KAAK,CAACiB,OAAN,CAAc,0BAAd;AAEAb,IAAAA,OAAO,CAACc,IAAR,CAAa,gBAAb;AACD,GAjBD,CAiBE,OAAO;AAAEC,IAAAA;AAAF,GAAP,EAAqB;AACrB,UAAMrB,GAAG,CAACI,sBAAsB,EAAvB,CAAT;AACAkB,IAAAA,OAAO,CAACC,IAAR,CAAaC,GAAb,CAAiBH,QAAQ,CAACJ,IAAT,CAAcQ,KAA/B;AACAvB,IAAAA,KAAK,CAACuB,KAAN,CAAYJ,QAAQ,CAACJ,IAAT,CAAcQ,KAA1B;AACD;AACF;AAED,eAAe3B,GAAG,CAAC,CAACG,UAAU,CAAC,2BAAD,EAA8BM,eAA9B,CAAX,CAAD,CAAlB","sourcesContent":["import { all, call, put, takeLatest } from 'redux-saga/effects';\n\nimport { toast } from 'react-toastify';\n\nimport { createRecipientSuccess, createRecipientFailure } from './actions';\n\nimport api from '../../../services/api';\nimport history from '../../../services/history';\n\nexport function* createRecipient({ payload }) {\n  const {\n    id,\n    name,\n    street,\n    number,\n    complement,\n    state,\n    city,\n    zipcode,\n  } = payload.data;\n\n  try {\n    yield call(api.post, '/recipients', {\n      id,\n      name,\n      street,\n      number,\n      complement,\n      state,\n      city,\n      zipcode,\n    });\n\n    yield put(createRecipientSuccess());\n\n    toast.success('Destinatário adicionado!');\n\n    history.push('/destinatarios');\n  } catch ({ response }) {\n    yield put(createRecipientFailure());\n    console.tron.log(response.data.error);\n    toast.error(response.data.error);\n  }\n}\n\nexport default all([takeLatest('@recipient/CREATE_REQUEST', createRecipient)]);\n"]},"metadata":{},"sourceType":"module"}