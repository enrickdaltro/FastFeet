{"ast":null,"code":"import { all, call, put, takeLatest } from 'redux-saga/effects';\nimport { toast } from 'react-toastify';\nimport { createRecipientSuccess, createRecipientFailure, editRecipientFailure, editRecipientSuccess } from './actions';\nimport api from '../../../services/api';\nimport history from '../../../services/history';\nexport function* editRecipient({\n  payload\n}) {\n  const {\n    id\n  } = payload;\n\n  try {\n    const response = yield call(api.get, `/recipients/${id}`);\n    yield put(editRecipientSuccess(response.data));\n    history.push('/destinatarios_edicao');\n  } catch ({\n    response\n  }) {\n    yield put(editRecipientFailure());\n    console.tron.log(response.data.error);\n    toast.error(response.data.error);\n  }\n}\nexport function* createRecipient({\n  payload\n}) {\n  const {\n    id,\n    name,\n    street,\n    number,\n    complement,\n    state,\n    city,\n    zipcode\n  } = payload.data;\n\n  try {\n    yield call(api.post, '/recipients', {\n      id,\n      name,\n      street,\n      number,\n      complement,\n      state,\n      city,\n      zipcode\n    });\n    yield put(createRecipientSuccess());\n    toast.success('Destinatário adicionado!');\n    history.push('/destinatarios');\n  } catch ({\n    response\n  }) {\n    yield put(createRecipientFailure());\n    console.tron.log(response.data.error);\n    toast.error(response.data.error);\n  }\n}\nexport default all([takeLatest('@recipient/EDIT_REQUEST', editRecipient), takeLatest('@recipient/CREATE_REQUEST', createRecipient)]);","map":{"version":3,"sources":["/Users/Enrick/desafio09/src/store/modules/recipient/sagas.js"],"names":["all","call","put","takeLatest","toast","createRecipientSuccess","createRecipientFailure","editRecipientFailure","editRecipientSuccess","api","history","editRecipient","payload","id","response","get","data","push","console","tron","log","error","createRecipient","name","street","number","complement","state","city","zipcode","post","success"],"mappings":"AAAA,SAASA,GAAT,EAAcC,IAAd,EAAoBC,GAApB,EAAyBC,UAAzB,QAA2C,oBAA3C;AAEA,SAASC,KAAT,QAAsB,gBAAtB;AAEA,SACEC,sBADF,EAEEC,sBAFF,EAGEC,oBAHF,EAIEC,oBAJF,QAKO,WALP;AAOA,OAAOC,GAAP,MAAgB,uBAAhB;AACA,OAAOC,OAAP,MAAoB,2BAApB;AAEA,OAAO,UAAUC,aAAV,CAAwB;AAAEC,EAAAA;AAAF,CAAxB,EAAqC;AAC1C,QAAM;AAAEC,IAAAA;AAAF,MAASD,OAAf;;AAEA,MAAI;AACF,UAAME,QAAQ,GAAG,MAAMb,IAAI,CAACQ,GAAG,CAACM,GAAL,EAAW,eAAcF,EAAG,EAA5B,CAA3B;AAEA,UAAMX,GAAG,CAACM,oBAAoB,CAACM,QAAQ,CAACE,IAAV,CAArB,CAAT;AAEAN,IAAAA,OAAO,CAACO,IAAR,CAAa,uBAAb;AACD,GAND,CAME,OAAO;AAAEH,IAAAA;AAAF,GAAP,EAAqB;AACrB,UAAMZ,GAAG,CAACK,oBAAoB,EAArB,CAAT;AACAW,IAAAA,OAAO,CAACC,IAAR,CAAaC,GAAb,CAAiBN,QAAQ,CAACE,IAAT,CAAcK,KAA/B;AACAjB,IAAAA,KAAK,CAACiB,KAAN,CAAYP,QAAQ,CAACE,IAAT,CAAcK,KAA1B;AACD;AACF;AAED,OAAO,UAAUC,eAAV,CAA0B;AAAEV,EAAAA;AAAF,CAA1B,EAAuC;AAC5C,QAAM;AACJC,IAAAA,EADI;AAEJU,IAAAA,IAFI;AAGJC,IAAAA,MAHI;AAIJC,IAAAA,MAJI;AAKJC,IAAAA,UALI;AAMJC,IAAAA,KANI;AAOJC,IAAAA,IAPI;AAQJC,IAAAA;AARI,MASFjB,OAAO,CAACI,IATZ;;AAWA,MAAI;AACF,UAAMf,IAAI,CAACQ,GAAG,CAACqB,IAAL,EAAW,aAAX,EAA0B;AAClCjB,MAAAA,EADkC;AAElCU,MAAAA,IAFkC;AAGlCC,MAAAA,MAHkC;AAIlCC,MAAAA,MAJkC;AAKlCC,MAAAA,UALkC;AAMlCC,MAAAA,KANkC;AAOlCC,MAAAA,IAPkC;AAQlCC,MAAAA;AARkC,KAA1B,CAAV;AAWA,UAAM3B,GAAG,CAACG,sBAAsB,EAAvB,CAAT;AAEAD,IAAAA,KAAK,CAAC2B,OAAN,CAAc,0BAAd;AAEArB,IAAAA,OAAO,CAACO,IAAR,CAAa,gBAAb;AACD,GAjBD,CAiBE,OAAO;AAAEH,IAAAA;AAAF,GAAP,EAAqB;AACrB,UAAMZ,GAAG,CAACI,sBAAsB,EAAvB,CAAT;AACAY,IAAAA,OAAO,CAACC,IAAR,CAAaC,GAAb,CAAiBN,QAAQ,CAACE,IAAT,CAAcK,KAA/B;AACAjB,IAAAA,KAAK,CAACiB,KAAN,CAAYP,QAAQ,CAACE,IAAT,CAAcK,KAA1B;AACD;AACF;AAED,eAAerB,GAAG,CAAC,CACjBG,UAAU,CAAC,yBAAD,EAA4BQ,aAA5B,CADO,EAEjBR,UAAU,CAAC,2BAAD,EAA8BmB,eAA9B,CAFO,CAAD,CAAlB","sourcesContent":["import { all, call, put, takeLatest } from 'redux-saga/effects';\n\nimport { toast } from 'react-toastify';\n\nimport {\n  createRecipientSuccess,\n  createRecipientFailure,\n  editRecipientFailure,\n  editRecipientSuccess,\n} from './actions';\n\nimport api from '../../../services/api';\nimport history from '../../../services/history';\n\nexport function* editRecipient({ payload }) {\n  const { id } = payload;\n\n  try {\n    const response = yield call(api.get, `/recipients/${id}`);\n\n    yield put(editRecipientSuccess(response.data));\n\n    history.push('/destinatarios_edicao');\n  } catch ({ response }) {\n    yield put(editRecipientFailure());\n    console.tron.log(response.data.error);\n    toast.error(response.data.error);\n  }\n}\n\nexport function* createRecipient({ payload }) {\n  const {\n    id,\n    name,\n    street,\n    number,\n    complement,\n    state,\n    city,\n    zipcode,\n  } = payload.data;\n\n  try {\n    yield call(api.post, '/recipients', {\n      id,\n      name,\n      street,\n      number,\n      complement,\n      state,\n      city,\n      zipcode,\n    });\n\n    yield put(createRecipientSuccess());\n\n    toast.success('Destinatário adicionado!');\n\n    history.push('/destinatarios');\n  } catch ({ response }) {\n    yield put(createRecipientFailure());\n    console.tron.log(response.data.error);\n    toast.error(response.data.error);\n  }\n}\n\nexport default all([\n  takeLatest('@recipient/EDIT_REQUEST', editRecipient),\n  takeLatest('@recipient/CREATE_REQUEST', createRecipient),\n]);\n"]},"metadata":{},"sourceType":"module"}